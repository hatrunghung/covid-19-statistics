(this["webpackJsonpcovid-19-monitor"]=this["webpackJsonpcovid-19-monitor"]||[]).push([[0],{160:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(45),c=a.n(l),o=(a(53),a(54),a(55),a(47)),i=a(1),d=function(e,t){switch(t.type){case"loading":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"resolvedIndicate":return Object(i.a)(Object(i.a)({},e),{},{confirmed:t.payload.confirmed,deaths:t.payload.deaths,recovered:t.payload.recovered,lastUpdate:t.payload.lastUpdate,loading:!1});case"resolvedFetchMajorCase":return Object(i.a)(Object(i.a)({},e),{},{critical:t.payload.critical});case"resolvedCountries":return Object(i.a)(Object(i.a)({},e),{},{countries:t.payload.countries});case"resolvedDailyData":return Object(i.a)(Object(i.a)({},e),{},{dailyData:t.payload.dailyData});case"error":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}},s={confirmed:0,deaths:0,recovered:0,lastUpdate:null,countries:[],dailyData:[],critical:0,loading:!1,error:null},u=n.a.createContext(),m=n.a.createContext(),v=function(e){var t=e.children,a=n.a.useReducer(d,s),r=Object(o.a)(a,2),l=r[0],c=r[1];return n.a.createElement(u.Provider,{value:l},n.a.createElement(m.Provider,{value:c},t))},f=function(){var e=n.a.useContext(u);if(void 0===e)throw new Error("useAnalyticsState must be used inside AnalyticsProvider");return e},E=function(){var e=n.a.useContext(m);if(void 0===e)throw new Error("useAnalyticsDispatch must be used inside AnalyticsProvider");return e};a(56);var p=function(e){var t=new Date(e),a=""+(t.getMonth()+1),r=""+t.getDate(),n=t.getFullYear();return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[n,a,r].join("-")};var h=function(){var e=f().lastUpdate;return n.a.createElement("div",{className:"header"},n.a.createElement("div",null,n.a.createElement("p",{className:"content-widget"},"COVID-19 Monitor")),n.a.createElement("div",null,n.a.createElement("p",{className:"content-widget"},"Last update: ",e?new Date(e).toDateString():p(new Date))))},y=a(163),g=a(2),b=a.n(g),D=a(161),j=a(162);a(61);var w=function(e,t){var a=Object(i.a)({method:"GET"},t);return window.fetch(e,a).then((function(e){return e.json()}))},C="https://covid19.mathdro.id/api";var O=function(){var e=f(),t=e.confirmed,a=e.deaths,l=e.recovered,c=E();return Object(r.useEffect)((function(){c({type:"loading"}),w(C).then((function(e){return c({type:"resolvedIndicate",payload:{confirmed:e.confirmed.value,deaths:e.deaths.value,recovered:e.recovered.value,lastUpdate:e.lastUpdate}})})).catch((function(e){return c({type:"error",payload:{error:e}})}))}),[]),t&&n.a.createElement(D.a,{style:{marginRight:"-5px"}},n.a.createElement(j.a,{md:4},n.a.createElement("div",{className:"grid-col"},n.a.createElement("div",{style:{fontSize:20}},"Confirmed cases"),n.a.createElement("h2",{style:{color:"rgb(189, 33, 48)"}},n.a.createElement(b.a,{start:0,end:t,duration:2,separator:"."})))),n.a.createElement(j.a,{md:4},n.a.createElement("div",{className:"grid-col"},n.a.createElement("div",{style:{fontSize:20}},"Deaths"),n.a.createElement("h2",{style:{color:"rgb(189, 189, 189)"}},n.a.createElement(b.a,{start:0,end:a,duration:2,separator:"."})))),n.a.createElement(j.a,{md:4},n.a.createElement("div",{className:"grid-col"},n.a.createElement("div",{style:{fontSize:20}},"Recovered"),n.a.createElement("h2",{style:{color:"rgb(164, 201, 57)"}},n.a.createElement(b.a,{start:0,end:l,duration:2,separator:"."})))))};a(62);var N=function(){var e=f(),t=e.confirmed,a=e.deaths,l=e.recovered,c=e.critical,o=E();return Object(r.useEffect)((function(){w("https://corona-api.com/countries").then((function(e){var t=e.data.reduce((function(e,t){return e+t.latest_data.critical}),0);return o({type:"resolvedFetchMajorCase",payload:{critical:t}})})).catch((function(e){return o({type:"error",payload:{error:e}})}))}),[]),n.a.createElement(D.a,{style:{marginRight:"-15px"}},n.a.createElement(j.a,{md:6,style:{textAlign:"center",paddingLeft:0,paddingRight:0}},n.a.createElement("div",{className:"cases-indicator"},n.a.createElement("div",{className:"grid-col"},n.a.createElement("div",{style:{fontSize:20}},"Active cases:"),n.a.createElement("div",null,n.a.createElement("h2",{style:{color:"rgb(255,255,255)"}},n.a.createElement(b.a,{start:0,end:t-a-l,duration:2,separator:"."})),n.a.createElement("div",null,"Currently infected patients")),n.a.createElement("div",{className:"detail-card-container"},n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:20,fontWeight:"bold",color:"rgb(218, 78, 91)"}},n.a.createElement(b.a,{start:0,end:t-a-l-c,duration:2,separator:"."})),n.a.createElement("br",null),"Mildly infected cases"),n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:20,fontWeight:"bold",color:"rgb(189, 33, 48)"}},n.a.createElement(b.a,{start:0,end:c,duration:2,separator:"."})),n.a.createElement("br",null),"Seriously infected cases"))))),n.a.createElement(j.a,{md:6,style:{textAlign:"center",paddingLeft:0,paddingRight:0}},n.a.createElement("div",{className:"cases-indicator"},n.a.createElement("div",{className:"grid-col"},n.a.createElement("div",{style:{fontSize:20}},"Close cases:"),n.a.createElement("div",null,n.a.createElement("h2",{style:{color:"rgb(255,255,255)"}},n.a.createElement(b.a,{start:0,end:a+l,duration:2,separator:"."})),n.a.createElement("div",null,"Currently closed cases")),n.a.createElement("div",{className:"detail-card-container"},n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:20,fontWeight:"bold",color:"rgb(164, 201, 57)"}},n.a.createElement(b.a,{start:0,end:l,duration:2,separator:"."})),n.a.createElement("br",null),"Recovered / Discharged"),n.a.createElement("div",null,n.a.createElement("span",{style:{fontSize:20,fontWeight:"bold",color:"rgb(189, 189, 189)"}},n.a.createElement(b.a,{start:0,end:a,duration:2,separator:"."})),n.a.createElement("br",null),"Deaths"))))))};var S=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(O,null),n.a.createElement(N,null))},x=(a(63),a(46));var z=function(){var e=f().dailyData,t=E();return n.a.useEffect((function(){w(C+"/daily").then((function(e){return t({type:"resolvedDailyData",payload:{dailyData:e}})}))}),[]),n.a.createElement(x.Line,{data:{labels:e.map((function(e){return e.reportDate})),datasets:[{data:e.map((function(e){return e.confirmed.total})),label:"Confirmed",borderColor:"rgb(189, 33, 48)",fill:!0},{data:e.map((function(e){return e.deaths.total})),label:"Deaths",borderColor:"rgb(189, 189, 189)",fill:!0},{data:e.map((function(e){return e.recovered.total})),label:"Recovered",borderColor:"rgb(164, 201, 57)",fill:!0}]}})};var A=function(){var e=E();return n.a.useEffect((function(){w(C+"/countries").then((function(t){return e({type:"resolvedCountries",payload:{countries:t.countries}})}))}),[]),n.a.createElement("div",{className:"chart-container"},n.a.createElement(z,null))};var R=function(){return n.a.createElement(y.a,null,n.a.createElement(S,null),n.a.createElement(A,null))};var U=function(){return n.a.createElement(v,null,n.a.createElement("div",{className:"App"},n.a.createElement(h,null),n.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){e.exports=a(160)},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.04ec3bef.chunk.js.map